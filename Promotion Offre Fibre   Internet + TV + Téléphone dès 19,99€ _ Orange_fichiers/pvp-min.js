/* 2017-09-12_G1R25C1 - Tue Sep 12 2017 13:12:00 */
!function(){if(!window.Pvp){var a={dm:{src:["js/dm/player-min.js"],className:"PvpDmPlayer",version:"9fc282860ca2ac54e73540851c1c95e5"},dmpublic:{src:["js/dmpublic/player-min.js"],className:"PvpDmPublicPlayer",version:"473d1285b4a4ca3f695233ee82ef239b"},silverlight:{src:["js/silverlight/player-min.js"],className:"PvpSlPlayer",version:"3b84983775d0f32baffa7add6578f390"},vod:{src:["js/vod/player-min.js"],className:"PvpVodPlayer",version:"450b172be09e8340fc27472bfbf72bbf"},wm:{src:["js/wm/player-min.js"],className:"PvpWmPlayer",version:"00a051a23d6b2395be2711f576b25498"},html5:{src:["js/html5/player-min.js"],className:"PvpHtml5Player",version:"29ee22f76b46e00806e1230015abba55"},native:{src:["js/native/player-min.js"],className:"PvpNativePlayer",version:"1c5600d84c3d61da63f70000fdbe822a"},digiteka:{src:["js/digiteka/player-min.js"],className:"PvpDigitekaPlayer",version:"cb8c8ddd98c6f687266211d780fee5ad"},deezer:{src:["js/deezer/player-min.js"],className:"PvpDeezerPlayer",version:"ff47eed9b0733632023e6601368c13c8"}};window.Pvp=function(a,b,c){c.pageUrl=c.pageUrl||document.location.href,this.pId=[Math.round(1e6*Math.random()),(new Date).getTime()].join("-"),this.containerId=c.domNode||"pvpContainer",this.srcPath=c.srcPath=c.srcPath||window.location.protocol+(c.libraryHost||(/^(https?:)?\/\/[^\/]+?\.(dev|rec|preprod)\.[^\/]+\//.test(window.location.href)?"//c.rec.woopic.com/Pvp/":"//c.woopic.com/Pvp/")),this.player=null,this.status=Pvp.STATUS.LOADING,this.init(a,b,c)},window.Pvp.STATUS={ERROR:-1,LOADING:0,LOADED:1,PLAY:2,STOP:3},window.Pvp.TOPICS={ERROR:"error",FULLSCREEN:"fullScreen",NEW_VIDEO:"loadVideo",PLAYER_LOADED:"playerLoaded",QUALITY:"quality",QUALITY_LEVELS:"qualityLevels",RESIZE:"resize",STATE_CHANGED:"statechanged",VIDEO_BUFFERING:"buffer",VIDEO_ENDED:"ended",VIDEO_PAUSED:"pause",VIDEO_PLAYING:"play",VIDEO_REQUESTED:"request",VIDEO_RESTART:"restart",VIDEO_SEEKING:"seek",VIDEO_TIME:"time"};var b={};for(var c in window.Pvp.TOPICS){var d=window.Pvp.TOPICS[c];b[d]="/pvp/"+d}window.Pvp.prototype={init:function(a,b,c){a=this._checkBrowserCompatibility(a),c.sequenceUrl&&null!==c.sequenceUrl.match(new RegExp("^//.*"))&&(c.sequenceUrl=window.location.protocol+c.sequenceUrl),"dmvast"===a&&(c.sequenceType="v2",a="dm"),c.sPlayerType=a,this.subscribe(Pvp.TOPICS.PLAYER_LOADED,this,this.setStatus,[Pvp.STATUS.LOADED]),this.subscribe(Pvp.TOPICS.VIDEO_PLAYING,this,this.setStatus,[Pvp.STATUS.PLAY]),this.subscribe(Pvp.TOPICS.VIDEO_ENDED,this,this.setStatus,[Pvp.STATUS.STOP]),this.subscribe(Pvp.TOPICS.VIDEO_PAUSED,this,this.setStatus,[Pvp.STATUS.STOP]),this.subscribe(Pvp.TOPICS.ERROR,this,this.setStatus,[Pvp.STATUS.ERROR]),this._generatePlayer(a,b,c)},setStatus:function(a){this.status=a,pvpUtils.publish(["/pvp",Pvp.TOPICS.STATE_CHANGED,this.pId].join("/"),[a])},getStatus:function(){return this.status},subscribe:function(a,c,d,e){if(b.hasOwnProperty(a))return"function"==typeof c&&(d=c,c=window),pvpUtils.subscribe([b[a],this.pId].join("/"),c||window,d||function(){},e||[])},unsubscribe:function(a){pvpUtils.unsubscribe(a)},_checkBrowserCompatibility:function(a){var b,c,d,e;switch(a){case"dm":case"dmvast":b=pvpUtils.cpt,c=b.getDeviceType(),d=b.getFlashVersion(),e=b.handleVideoMp4(),"desktop"!==c&&parseInt(d,10)<11&&(e?a="html5":d<11&&(a="native"))}return a},_generatePlayer:function(b,c,d){var e=a[b];if(e){var f,g=pvpUtils.hitch(this,function(a,b){var c=window[e.className];c&&(this.player=new c(this,this.containerId,a,b))},[c,d]);if(void 0===window[e.className]){f=[];for(var h=0,i=e.src.length;h<i;h++)f.push([this.srcPath,e.src[h],"?",e.version].join(""));pvpUtils.utils.loadJSs(f,g)}else g()}},destroy:function(){this.player.destroy()}}}window.pvpUtils||(window.pvpUtils={_topics:{},_connects:{},TOPICS:{LAYER_AVAILABLE:"internal/layerAvailable",MOBILE_FULLSCREEN:"internal/mobileFullScreen",VOLUME:"internal/volume"}},pvpUtils.hitch=function(a,b,c){c=c||[],a=a||window;var d="function"==typeof b?b:a[b];if(d)return function(){var b=pvpUtils.array.mix(c,arguments);return d.apply(a,b)}},pvpUtils.array={mix:function(){var a,b,c,d,e=[],f=arguments.length;for(b=0;b<f;b++)for(a=arguments[b],d=a.length,c=0;c<d;c++)e.push(a[c]);return e}},pvpUtils.subscribe=function(a,b,c,d){var e=pvpUtils._topics[a];return e&&e._listeners||(pvpUtils._topics[a]={_listeners:[]}),[a,pvpUtils._topics[a]._listeners.push({ctx:b,method:c,params:d||[]})]},pvpUtils.unsubscribe=function(a){if(a){var b=pvpUtils._topics[a[0]];b&&b._listeners&&a[1]--&&delete b._listeners[a[1]]}},pvpUtils.publish=function(a,b){pvpUtils.trace.log("Event "+a+(b?" => "+JSON.stringify(b):""));var c=pvpUtils._topics[a];if(c)for(var d=0,e=c._listeners.length;d<e;d++)c._listeners[d]&&pvpUtils.hitch(c._listeners[d].ctx,c._listeners[d].method,pvpUtils.array.mix(c._listeners[d].params,b||[]))()},pvpUtils.utils={loadJS:function(a,b){b=b||function(){};var c=document.getElementsByTagName("head")[0],d=document.createElement("script");d.type="text/javascript",d.src=a,d.addEventListener?d.addEventListener("load",b,!1):d.readyState&&(d.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||b()}),c.appendChild(d)},loadCSS:function(a,b){b=b||!1;var c=document.getElementsByTagName("head")[0],d=document.createElement("link");d.type="text/css",d.rel="stylesheet",d.href=a+(b?"?"+Math.random():""),c.appendChild(d)},loadJSs:function(a,b){var c=a.shift();a.length?pvpUtils.utils.loadJS(c,function(){pvpUtils.utils.loadJSs(a,b)}):c&&pvpUtils.utils.loadJS(c,b)}},pvpUtils.cpt={deviceType:"unknown",getFlashVersion:function(){var a,b,c=-1,d=navigator.plugins;if(d&&(d["Shockwave Flash 2.0"]||d["Shockwave Flash"])){c=d["Shockwave Flash"+(d["Shockwave Flash 2.0"]?" 2.0":"")].description.split(" ")[2].split(".")[0]}else{a=navigator.appVersion,b=navigator.userAgent;var e,f,g,h,i,j=-1!=a.indexOf("MSIE"),k=-1!=a.toLowerCase().indexOf("win"),l=-1!=b.indexOf("Opera")||-1!=b.indexOf("OPR");if(j&&k&&!l)try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),f=e.GetVariable("$version"),g=f.split(" "),h=g[1],i=h.split(","),c=i[0]}catch(a){}}return c},handleVideoTag:function(){return!!document.createElement("video").canPlayType},handleVideoMp4:function(){var a=document.createElement("video");return!(!a.canPlayType||!a.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'))},getDeviceType:function(){var a;return"unknown"===this.deviceType&&(a=navigator.userAgent,this.deviceType=a.match(/GoogleTV|SmartTV|Internet.TV|NetCast|NETTV|AppleTV|boxee|Kylo|Roku|DLNADOC|CE\-HTML/i)?"tv":a.match(/Xbox|PLAYSTATION.3|Wii/i)?"tv":a.match(/iPad/i)||a.match(/tablet/i)&&!a.match(/RX-34/i)||a.match(/FOLIO/i)?"tablet":a.match(/Linux/i)&&a.match(/Android/i)&&!a.match(/Fennec|mobi|HTC.Magic|HTCX06HT|Nexus.One|SC-02B|fone.945/i)?"tablet":a.match(/Kindle/i)||a.match(/Mac.OS/i)&&a.match(/Silk/i)?"tablet":a.match(/GT-P10|SC-01C|SHW-M180S|SGH-T849|SCH-I800|SHW-M180L|SPH-P100|SGH-I987|zt180|HTC(.Flyer|\_Flyer)|Sprint.ATP51|ViewPad7|pandigital(sprnova|nova)|Ideos.S7|Dell.Streak.7|Advent.Vega|A101IT|A70BHT|MID7015|Next2|nook/i)||a.match(/MB511/i)&&a.match(/RUTEM/i)?"tablet":a.match(/BOLT|Fennec|Iris|Maemo|Minimo|Mobi|mowser|NetFront|Novarra|Prism|RX-34|Skyfire|Tear|XV6875|XV6975|Google.Wireless.Transcoder/i)?"mobile":a.match(/Opera/i)&&a.match(/Windows.NT.5/i)&&a.match(/HTC|Xda|Mini|Vario|SAMSUNG\-GT\-i8000|SAMSUNG\-SGH\-i9/i)?"mobile":a.match(/Windows.(NT|XP|ME|9)/)&&!a.match(/Phone/i)||a.match(/Win(9|.9|NT)/i)?"desktop":a.match(/Macintosh|PowerPC/i)&&!a.match(/Silk/i)?"desktop":a.match(/Linux/i)&&a.match(/X11/i)?"desktop-noflash":a.match(/Solaris|SunOS|BSD/i)?"desktop":a.match(/Bot|Crawler|Spider|Yahoo|ia_archiver|Covario-IDS|findlinks|DataparkSearch|larbin|Mediapartners-Google|NG-Search|Snappy|Teoma|Jeeves|TinEye/i)&&!a.match(/Mobile/i)?"desktop":"mobile"),this.deviceType}})}(),pvpGenerateUrl=function(a,b){a+=a.indexOf("?")>-1?"&":"?";var c=[];for(var d in b)c.push([d,encodeURIComponent(b[d])].join("="));return a+=c.join("&")};